<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>首页</title>
<!--    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="css/头条.css">-->
<!--    <link rel="stylesheet" href="css/csdn.css">-->
    <!-- 头部导航 -->
    <div th:replace="~{header :: myhead}"></div>
</head>
<body>

<!-- 主体部分 -->
<div class="w">
    <!-- 头条资讯 -->
    <div class="container-fluid hd">
        <div class="row">
            <i class="hd_icon"></i>
            <span class="hd_tt">头条资讯</span>
            <span class="hd_time">2020-02-08</span>
        </div>
    </div>
    <!-- 主体 -->
    <div th:each="map : ${mapMap.values()}" class="container-fluid bd">
        <!-- 行 -->
        <div class="row border_bottom">
            <!-- 图标 -->
            <div class="col-lg-1  col-md-1 col-xs-1 bd_icon">
                <a th:href="@{/like(blogId=${map.get('blog').blogId})}" th:text="${map.get('blog').likeCount}"></a>
<!--                <input type="hidden" id="blogId" th:value="${map.get('blog').blogId}">-->
<!--                <a id="like" href="javascript:;" th:text="${map.get('blog').likeCount}"></a>-->
                <div class="up_39">
                    <span  th:text="${map.get('blog').likeCount}"></span>
                    <!--                    39-->
                </div>
<!--                <div class="down_39">-->
<!--                    <span></span>-->
<!--                </div>-->
            </div>
            <!-- 文字部分 -->
            <div class="col-lg-1 col-md-2 col-xs-2 bd_text">
                <div class="bd_text">
                    <a th:href="@{/toDetail(blogId=${map.get('blog').blogId})}" th:text="${map.get('blog').title}"></a>
                    <p th:text="${map.get('blog').summary}"></p>
                    点击量：<em th:text="${map.get('blog').hitCount}"></em>
                    <i></i>
                    <em th:text="${map.get('blog').commentCount}"></em>
                </div>

            </div>
            <!-- 右侧用户信息部分 -->
            <div class="col-lg-9 col-md-6 col-sm-4 col-xs-8 clearfix user_message">
                <div class="user">
                    <!--                <img src="./img/xzq.jpg" alt="" class="user_tit">-->
                    <img th:src="${map.get('user').headUrl}" width="30px" class="user_tit">
                    <p>
                        来自
                        <a href="#" th:text="${map.get('user').username}"></a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!--<script type="text/javascript">-->
<!--    $(function() {-->
<!--        $("#like").click(function () {-->
<!--            $.post({-->
<!--                url: "/like",-->
<!--                sync: true,-->
<!--                data: {-->
<!--                    blogId: $("#blogId").val(),-->
<!--                },-->
<!--                success: function (data) {-->
<!--                    //location.href="/";-->

<!--                    // 下面可以异步-->
<!--                    data = JSON.parse(data);-->
<!--                    $("#like").html(data.msg);-->
<!--                },-->
<!--                error: function () {-->
<!--                    console.log("点赞失败");-->
<!--                    alert("点赞失败");-->
<!--                }-->
<!--            });-->
<!--        })-->
<!--    });-->
<!--</script>-->

</body>
</html>